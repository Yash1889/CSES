#define INF 1e18
 
 
#include <bits/stdc++.h>
using namespace std;
 
int main(){
    long long n,m;
    cin>>n>>m;
    vector<vector<pair<long long,long long>>> adj(n+1);
    for(long long i=0;i<m;i++){
        long long a,b,c;
        cin>>a>>b>>c;
        adj[a].push_back({b,c});
    }
    vector<vector<long long>> dist(n+1,vector<long long> (2,INF));
    priority_queue<tuple<long long,long long,long long>,vector<tuple<long long,long long,long long>>,greater<>> pq;
    
    dist[0][1] = 0;
    pq.push({0,1,0});
    while(!pq.empty()){
        auto [d,u,used] = pq.top();
        pq.pop();
        if(d>dist[u][used])continue;
        for(auto [v,w]:adj[u]){
            if(dist[v][used]>d+w){
                dist[v][used] = d+w;
                pq.push({dist[v][used],v,used});
            }
            if(used == 0){
                long long shr = d+w/2;
                if(dist[v][1]>shr){
                    dist[v][1] = shr;
                    pq.push({shr,v,1});
                }
            }
        }
    }
    cout<<dist[n][1]<<'\n';
}
 
